!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};E=a("gerber-to-svg"),j=a("./build-board"),"function"!=typeof window.btoa&&(window.btoa=a("Base64").btoa),b={cu:{bare:{bg:"#C87533",txt:"white"},gold:{bg:"goldenrod",txt:"white"},"Ni/Au":{bg:"whitesmoke",txt:"black"},hasl:{bg:"silver",txt:"black"}},sm:{red:{bg:"darkred",txt:"white"},orange:{bg:"darkorange",txt:"black"},yellow:{bg:"#FFFF66",txt:"black"},green:{bg:"darkgreen",txt:"white"},blue:{bg:"navy",txt:"white"},purple:{bg:"indigo",txt:"white"},black:{bg:"black",txt:"white"},white:{bg:"white",txt:"black"}},ss:{red:{bg:"red",txt:"white"},yellow:{bg:"yellow",txt:"black"},green:{bg:"green",txt:"white"},blue:{bg:"blue",txt:"white"},black:{bg:"black",txt:"white"},white:{bg:"white",txt:"black"}},built:!1,defaults:{cu:"gold",sm:"green",ss:"white"}},c={tcu:{desc:"top copper",match:/\.(gtl)|(cmp)$/i},tsm:{desc:"top soldermask",match:/\.(gts)|(stc)$/i},tss:{desc:"top silkscreen",match:/\.(gto)|(plc)$/i},tsp:{desc:"top solderpaste",match:/\.(gtp)|(crc)$/i},bcu:{desc:"bottom copper",match:/\.(gbl)|(sol)$/i},bsm:{desc:"bottom soldermask",match:/\.(gbs)|(sts)$/i},bss:{desc:"bottom silkscreen",match:/\.(gbo)|(pls)$/i},bsp:{desc:"bottom solderpaste",match:/\.(gbp)|(crs)$/i},icu:{desc:"inner copper",match:/\.(gp\d+)|(g\d+l)$/i},out:{desc:"board outline",match:/(\.(gko)|(mil)$)|edge/i},drw:{desc:"gerber drawing",match:/\.gbr$/i},drl:{desc:"drill hits",match:/(\.xln$)|(\.drl$)|(\.txt$)|(\.drd$)/i}},d=["oth","icu","drw","drl"],C={},H={},T=!1,s=$("output#file-list"),r=s.children("ul").children("li.is-js-template"),q=$("button#convert-btn"),o={before:"convert!",after:"done!",error:"error: matching layer selections"},t=$("#layer-output").children(".LayerContainer.is-js-template"),u=$("#url-paste-btn"),x=$('button[name="url-paste-submit-btn"]'),v=$('button[name="url-paste-cancel-btn"]'),w=$("#url-paste-form"),y=$("#url-paste"),z=$("#sample-btn"),i=$("#board-output"),g=$('button[name="board-color-btn"]'),f=$("#board-output-color"),h=$(".ColorPicker--btn"),I=$("#layer-output"),L=$("#main-nav"),P=$("#nav-top").children("a.Nav--brand"),N=$("#nav-filelist"),Q=$("#nav-output, #nav-layers"),M=$("Nav--linkButton"),n=function(a,b){return a.removeClass(function(a,b){var c;return null!=(c=b.match(/octicon-\S+/g))?c.join(" "):void 0}).addClass(b)},K=function(a){var b,d;for(b in c)if(d=c[b],a.match(d.match))return b},U=function(){return $("#board-output, #layer-output").children().not(".is-js-template").remove(),$("#board-output-row, #layer-output-row").addClass("is-hidden"),$("#download-top-btn, #download-bottom-btn").addClass("is-disabled").attr("href","#"),Q.addClass("is-disabled")},W=function(){return T=!1,C={},H={},s.addClass("is-hidden"),s.children("ul").children().not(".is-js-template").remove(),U(),f.addClass("is-retracted").removeClass("is-extended"),n(P,"octicon-jump-up"),N.addClass("is-disabled")},R=function(){var a,b,d,e;b=r.find("select"),e=[];for(d in c)a=c[d],e.push(b.append('<option value="'+d+'">'+a.desc+"</option>"));return e}(),Y=function(){var a,b,c;return a=[],c=!0,b=$(".UploadList--SelectMenu"),b.each(function(e){var f,g,h;return h=$(this),f=h.parents("li.UploadList--item").removeClass("is-valid is-invalid is-ignored"),g=h.children("option:selected").attr("value"),Z.call(a,g)>=0?(c=!1,f=f.add(f.siblings().find("option:selected[value="+g+"]").parents("li")),f.addClass("is-invalid"),n(f.find(".mega-octicon"),"octicon-circle-slash")):(n(f.find(".mega-octicon"),"octicon-chevron-right"),f.addClass("oth"===g?"is-ignored":"is-valid"),Z.call(d,g)<0&&a.push(g)),e===b.length-1?c?(q.removeAttr("disabled"),q.html(o.before)):(q.attr("disabled","disabled"),q.html(o.error)):void 0})},l=function(a){var b,c,d,e,f,g,h;for(g=0,h=a.length;h>g;g++)b=a[g],c="select-"+b.replace(/[\.\$]/g,"_"),null==C[b]&&(C[b]={}),C[b].id=c,d=K(b),e=r.clone(),e.removeClass("is-js-template"),e.attr("id",c),e.children(".UploadList--filename").html(b),f=e.find("select"),f.on("change",Y),f.children("option[value="+d+"]").attr("selected","selected"),r.before(e);return Y(),s.hasClass("is-hidden")?(s.removeClass("is-hidden"),N.removeClass("is-disabled"),n(P,"octicon-sync"),X(s)):void 0},F=function(a){var b,c,d,e,f,g,h;for(a.preventDefault(),a.stopPropagation(),T&&W(),c=null!=(g=a.originalEvent)&&null!=(h=g.dataTransfer)?h.files:void 0,null==c&&(c=a.target.files),l(function(){var a,d,e;for(e=[],a=0,d=c.length;d>a;a++)b=c[a],e.push(b.name);return e}()),d=function(a){var b;return b=new FileReader,b.onloadend=function(b){return b.stopPropagation(),b.preventDefault(),event.target.readyState===FileReader.DONE?(null==C[a.name]&&(C[a.name]={}),C[a.name].string=event.target.result,event.target.result=null):void 0},b.readAsText(a)},e=0,f=c.length;f>e;e++)b=c[e],d(b);return!1},e=function(a){var b,c,d,e,f,g;return a=null!=(g=a.match(/github\.com\S+/))?g[0].split("/"):void 0,(null!=a?a.length:void 0)?(b="https://api.github.com/repos",d=a[1],f=a[2],c=a[4],e=a.slice(5).join("/"),a=""+b+"/"+d+"/"+f+"/contents/"+e+"?ref="+c):!1},S=function(a){var b,c,d,f,g;for(g=[],b=d=0,f=a.length;f>d;b=++d)c=a[b],c=e(c),g.push(c?$.ajax({type:"GET",url:c,contentType:"application/vnd.github.VERSION.raw",dataType:"json",success:function(a){return C[a.name]={string:atob(a.content)},l([a.name]),a=null}}):void 0);return g},V=function(){return y.val(""),w.addClass("is-hidden"),!1},G=function(){var a;return a=y.val().split("\n"),V(),S(a),!1},J=function(){var a,b,c,d,e;for(W(),b=["clockblock-hub-B_Cu.gbl","clockblock-hub-B_Mask.gbs","clockblock-hub-B_SilkS.gbo","clockblock-hub-Edge_Cuts.gbr","clockblock-hub-F_Cu.gtl","clockblock-hub-F_Mask.gts","clockblock-hub-F_Paste.gtp","clockblock-hub-F_SilkS.gto","clockblock-hub-NPTH.drl","clockblock-hub.drl"],e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(function(a){return $.ajax({type:"GET",url:"./"+a,dataType:"text",success:function(b){return C[a]={string:b},l([a]),b=null}})}(a));return e},k=function(){var a,c,d,e,f,g,i,j,k;if(!b.built){for(j=["cu","sm","ss"],g=0,i=j.length;i>g;g++){d=j[g],f=$("#board-"+d+"-color-buttons").children("button.is-js-template"),k=b[d];for(a in k)c=k[a],e=f.clone().removeClass("is-js-template"),e.css("background-color",c.bg).css("color",c.txt),e.html(a),a===b.defaults[d]&&e.prop("disabled",!0),f.before(e)}return h=$(".ColorPicker--btn"),h.on("click",m),b.built=!0}},B=function(){var a;return a=$(".BoardContainer").not(".is-js-template"),a.each(function(){var a,b,c,d,e;return b=$(this),c=b.children(".LayerDrawing"),d=c.html(),e="data:image/svg+xml;base64,"+btoa(d),"board-top-render"===b.attr("id")?a=$("#download-top-btn"):"board-bottom-render"===b.attr("id")&&(a=$("#download-bottom-btn")),a.attr("href",e),a.removeClass("is-disabled")})},m=function(a){var c,d,e,f,g,h,i,j;return h=$(".Board--style"),i=h.first().text(),a=$(a.target),c=a.parent().attr("id"),c.match(/cu/)?(d=b.cu[a.html()].bg,e=".Board--finish { color: "+d+"; }",g=/\.Board--finish {.*}/):c.match(/ss/)?(d=b.ss[a.html()].bg,e=".Board--ss { color: "+d+"; }",g=/\.Board--ss {.*}/):c.match(/sm/)&&(d=b.sm[a.html()].bg,f=null!=(j=i.match(/opacity:.*;/))?j[0]:void 0,e=".Board--sm { color: "+d+"; "+f+" }",g=/\.Board--sm {.*}/),a.siblings().prop("disabled",!1),a.prop("disabled",!0),h.text(i.replace(g,e)),B()},p=function(){return T=!0,U(),V(),q.attr("disabled","disabled"),setTimeout(function(){var a,b,c,e,f,g,h,l,m,n,o,p,q,r,s,u,v,w;for(h in C)if(w=C[h],n=$("li.UploadList--item#"+w.id).find("select"),m=n.children("option:selected"),v=m.attr("value"),"oth"!==v){o=!0;try{p=E(w.string,{object:!0,drill:"drl"===v})}catch(x){g=x,o=!1}o&&(Z.call(d,v)>=0?(null==H[v]&&(H[v]=[]),H[v].push(p)):H[v]=p,q="data:image/svg+xml;base64,"+btoa(E(p)),l=t.clone().removeClass("is-js-template"),l.children("h2.LayerHeading").html(m.html()),l.find("img.LayerImage").attr("src",q),t.before(l))}return u={},null!=H.tcu&&(u.cu=H.tcu),null!=H.tsm&&(u.sm=H.tsm),null!=H.tss&&(u.ss=H.tss),null!=H.tsp&&(u.sp=H.tsp),null!=H.drl&&(u.drill=function(){var a,b,c,d;for(c=H.drl,d=[],a=0,b=c.length;b>a;a++)f=c[a],d.push(f);return d}()),null!=H.out&&(u.out=H.out),e={},null!=H.bcu&&(e.cu=H.bcu),null!=H.bsm&&(e.sm=H.bsm),null!=H.bss&&(e.ss=H.bss),null!=H.bsp&&(e.sp=H.bsp),null!=H.drl&&(e.drill=function(){var a,b,c,d;for(c=H.drl,d=[],a=0,b=c.length;b>a;a++)f=c[a],d.push(f);return d}()),null!=H.out&&(e.out=H.out),a=$("#board-output").children(".is-js-template"),null!=u.cu&&(r=j("top",u),s=a.clone().removeClass("is-js-template"),s.attr("id","board-top-render"),s.children("h2.LayerHeading").html("board top"),p=E(r),s.find("img.LayerImage").replaceWith(p),a.before(s)),null!=e.cu&&(b=j("bottom",e),c=a.clone().removeClass("is-js-template"),c.attr("id","board-bottom-render"),c.children("h2.LayerHeading").html("board bottom"),p=E(b),c.find("img.LayerImage").replaceWith(p),a.before(c)),(null!=e.cu||null!=u.cu)&&(k(),B(),$("#board-output-row").removeClass("is-hidden")),$("#layer-output-row").removeClass("is-hidden"),X(i,function(){return Q.removeClass("is-disabled")}),!1},50)},A=$("#dropzone"),A.on("dragenter",function(a){return a.preventDefault(),a.stopPropagation()}),A.on("dragover",function(a){return a.preventDefault(),a.stopPropagation(),a.originalEvent.dataTransfer.dropEffect="copy"}),A.on("drop",F),D=$("#upload-select"),D.on("change",F),q.on("click",p),u.on("click",function(){return w.removeClass("is-hidden")}),v.on("click",V),x.on("click",G),z.on("click",J),g.on("click",function(){return f.toggleClass("is-retracted")}),O=L.height(),X=function(a,b){return $("html, body").animate({scrollTop:a?$(a).offset().top-1.15*O:0},300,b)},$("a.Nav--link").not(".Nav--noScroll").on("click",function(a){var b,c,d;return a.stopPropagation(),a.preventDefault(),b=$(this),d=b.parent(),d.hasClass("disabled")?void 0:(c=b.attr("href").split("#")[1],c&&(c="#"+c),X(c,c?void 0:W))})},{"./build-board":2,Base64:3,"gerber-to-svg":9}],2:[function(a,b){var c,d,e,f,g;e=a("lodash.clonedeep"),f=0,g=function(){return f++},c={style:{type:"text/css","class":"Board--style",_:"<![CDATA[\n  .Board--board { color: dimgrey; }\n  .Board--cu { color: lightgrey; }\n  .Board--finish { color: goldenrod; }\n  .Board--sm { color: darkgreen; opacity: 0.75; }\n  .Board--ss { color: white; }\n  .Board--sp { color: silver; }\n  .Board--out { color: black; }\n]]>"}},d={svg:{}},b.exports=function(a,b){var f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;if(null==b&&(b={}),null==b.cu)return{};h={},n=[],o=[],i=[1/0,1/0,-1/0,-1/0],A="px",f=function(a){var b,c;return b=a[2]+a[0],c=a[3]+a[1],a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),b>i[2]&&(i[2]=b),c>i[3]?i[3]=c:void 0},s=function(){return[i[0],i[1],i[2]-i[0],i[3]-i[1]]};for(u in b)if(v=b[u],k=function(b){var c,i,j,k,l,m,o,p,q,r,s,t,v,w,x;if(o=e(b),f(o.svg.viewBox),l=null!=(t=o.svg.width.match(/(in)|(mm)/))?t[0]:void 0,"px"===A)A=l;else if(l!==A)return d;delete o.svg.viewBox,delete o.svg.width,delete o.svg.height,delete o.svg.id,v=o.svg;for(i in v)m=v[i],null==h[i]&&"_"!==i&&(h[i]=m);for(j=""+a+"-"+u+"_"+g(),w=o.svg._,p=0,r=w.length;r>p;p++)if(k=w[p],null!=k.defs)for(x=k.defs._,q=0,s=x.length;s>q;q++)c=x[q],n.push(c);else null!=k.g&&(delete k.g.transform,k.g.id=j,n.push(k));return j},Array.isArray(v))for(t=C=0,E=v.length;E>C;t=++C)p=v[t],v[t]=k(p);else b[u]=k(v);if(B=s(),j=function(a,b){return null==a&&(a="Board--cover"),null==b&&(b="currentColor"),{rect:{"class":a,fill:b,x:B[0],y:B[1],width:B[2],height:B[3]}}},o.push(j("Board--board")),o.push({use:{"class":"Board--cu","xlink:href":"#"+b.cu}}),null!=b.sm&&(l=""+a+"-sm_"+g(),n.push({mask:{id:l,color:"#fff",_:[{use:{"xlink:href":"#"+b.cu}}]}}),o.push({use:{"class":"Board--finish",mask:"url(#"+l+")","xlink:href":"#"+b.sm}}),w=""+a+"-sm_"+g(),n.push({mask:{id:w,color:"#000",_:[j(null,"#fff"),{use:{"xlink:href":"#"+b.sm}}]}}),x={g:{mask:"url(#"+w+")",_:[j("Board--sm")]}},null!=b.ss&&x.g._.push({use:{"class":"Board--ss","xlink:href":"#"+b.ss}}),o.push(x)),null!=b.sp&&o.push({use:{"class":"Board--sp","xlink:href":"#"+b.sp}}),null!=b.out&&o.push({use:{"class":"Board--out","xlink:href":"#"+b.out}}),q=null,null!=b.drill){for(q=""+a+"-drl_"+g(),r={mask:{id:q,color:"#000",_:[j(null,"#fff")]}},G=b.drill,D=0,F=G.length;F>D;D++)m=G[D],r.mask._.push({use:{"xlink:href":"#"+m}});n.push(r)}return z="bottom"===a?"translate("+(i[2]+i[0])+","+(i[3]+i[1])+") scale(-1,-1)":"translate(0,"+(i[3]+i[1])+") scale(1,-1)",o={g:{transform:z,_:o}},q&&(o.g.mask="url(#"+q+")"),y=h,y["class"]="Board",y.viewBox=s(),y.width=""+y.viewBox[2]+A,y.height=""+y.viewBox[3]+A,y._=[c],n.length&&y._.push({defs:{_:n}}),o.g._.length&&y._.push(o),{svg:y}}},{"lodash.clonedeep":17}],3:[function(a,b,c){!function(){function a(a){this.message=a}var b="undefined"!=typeof c?c:this,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var c,e,f=String(b),g=0,h=d,i="";f.charAt(0|g)||(h="=",g%1);i+=h.charAt(63&c>>8-g%1*8)){if(e=f.charCodeAt(g+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|e}return i}),b.atob||(b.atob=function(b){var c=String(b).replace(/=+$/,"");if(c.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,f,g=0,h=0,i="";f=c.charAt(h++);~f&&(e=g%4?64*e+f:f,g++%4)?i+=String.fromCharCode(255&e>>(-2*g&6)):0)f=d.indexOf(f);return i})}()},{}],4:[function(a,b){(function(){b.exports=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(null==a)return{};if(null==b.zero||null==b.places)throw new Error("format undefined");e={},f={},e.x=null!=(h=a.match(/X[+-]?\d+/))&&null!=(i=h[0])?i.slice(1):void 0,e.y=null!=(j=a.match(/Y[+-]?\d+/))&&null!=(k=j[0])?k.slice(1):void 0,e.i=null!=(l=a.match(/I[+-]?\d+/))&&null!=(m=l[0])?m.slice(1):void 0,e.j=null!=(n=a.match(/J[+-]?\d+/))&&null!=(o=n[0])?o.slice(1):void 0;for(d in e)if(g=e[d],null!=g){if(c=1,("+"===g[0]||"-"===g[0])&&("-"===g[0]&&(c=-1),g=g.slice(1)),"L"===b.zero)c*=Math.pow(10,b.places[1]);else{if("T"!==b.zero)throw new Error("invalid zero suppression format");c*=Math.pow(10,g.length-b.places[0])}f[d]=Number(g)/c}return f}}).call(this)},{}],5:[function(a,b){(function(){var c,d,e,f,g,h,i,j,k;j=a("./coord-parser"),e={"FMAT,1":"M70","FMAT,2":"M72"},g="M71",c="G90",f="G91",k=/([XY]-?\d*){1,2}/,i="L",h=[2,4],d=function(){function a(){this.format={zero:null,places:null},this.fmat="FMAT,2"}return a.prototype.parseCommand=function(a){var b,d,l,m,n,o,p,q;if(d={},";"===a[0])return d;if("FMAT,1"===a?this.fmat=a:"M30"===a||"M00"===a?d.set={done:!0}:a===e[this.fmat]||a.match(/INCH/)?(this.format.places=[2,4],d.set={units:"in"}):a===g||a.match(/METRIC/)?(this.format.places=[3,3],d.set={units:"mm"}):a===c?d.set={notation:"abs"}:a===f?d.set={notation:"inc"}:(b=null!=(o=a.match(/T\d+/))?o[0]:void 0)&&((l=null!=(p=a.match(/C[\d\.]+(?=.*$)/))?p[0]:void 0)?(l=Number(l.slice(1)),d.tool={},d.tool[b]={dia:l}):d.set={currentTool:b}),a.match(/TZ/)?this.format.zero="L":a.match(/LZ/)&&(this.format.zero="T"),a.match(k)){d.op={"do":"flash"},null==this.format.zero&&(this.format.zero=i),null==this.format.places&&(this.format.places=h),q=j(a,this.format);for(m in q)n=q[m],d.op[m]=n}return d},a}(),b.exports=d}).call(this)},{"./coord-parser":4}],6:[function(a,b){(function(){var a;a=function(){function a(a){this.line=0,this.blocks=a.split(/\r?\n/)}return a.prototype.nextBlock=function(){return this.line<this.blocks.length?this.blocks[++this.line-1]:!1},a}(),b.exports=a}).call(this)},{}],7:[function(a,b){(function(){var c,d,e;d=a("./coord-parser"),e=/([XYIJ][+-]?\d+){1,4}/g,c=function(){function a(){this.format={zero:null,places:null}}return a.prototype.parseFormat=function(a,b){var c,d,e;if(e="L"===a[2]||"T"===a[2]?a[2]:null,c="A"===a[3]||"I"===a[3]?a[3]:null,"X"===a[4]&&"Y"===a[7]&&a.slice(5,7)===a.slice(8,10)&&a[5]<8&&a[6]<8&&(d=[+a[5],+a[6]]),null==d||null==c||null==e)throw new Error("invalid format specification");return this.format.zero=e,this.format.places=d,null==b.set&&(b.set={}),b.set.notation=c},a.prototype.parseToolDef=function(a,b){var c,d,e,f,g,h;for(null==b.tool&&(b.tool={}),c=null!=(g=a.match(/^ADD\d{2,}/))?g[0].slice(2):void 0,h=a.slice(2+c.length).split(","),f=h[0],e=h[1],e=null!=e?e.split("X"):void 0;"0"===c[1];)c=c[0]+c.slice(2);switch(f){case"C":if(e.length>2?d={width:+e[1],height:+e[2]}:e.length>1&&(d={dia:+e[1]}),b.tool[c]={dia:+e[0]},null!=d)return b.tool[c].hole=d;break;case"R":case"O":if(e.length>3?d={width:+e[2],height:+e[3]}:e.length>2&&(d={dia:+e[2]}),b.tool[c]={width:+e[0],height:+e[1]},"O"===f&&(b.tool[c].obround=!0),null!=d)return b.tool[c].hole=d;break;case"P":if(e.length>4?d={width:+e[3],height:+e[4]}:e.length>3&&(d={dia:+e[3]}),b.tool[c]={dia:+e[0],verticies:+e[1]},e.length>2&&(b.tool[c].degrees=+e[2]),null!=d)return b.tool[c].hole=d;break;default:return b.tool[c]={macro:f,mods:null!=e?e:[]}}},a.prototype.parseCommand=function(a){var b,c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(null==a&&(a={}),c={},m=a.param)for(s=0,t=m.length;t>s;s++)switch(l=m[s],f=l.slice(0,2)){case"FS":this.parseFormat(l,c);break;case"MO":if(o=l.slice(2,4),null==c.set&&(c.set={}),"IN"===o)c.set.units="in";else{if("MM"!==o)throw new Error(""+l+" is an invalid units setting");c.set.units="mm"}break;case"AD":this.parseToolDef(l,c);break;case"AM":return{macro:m};case"LP":if(null==c["new"]&&(c["new"]={}),("D"===l[2]||"C"===l[2])&&(c["new"].layer=l[2]),null==c["new"].layer)throw new Error("invalid level polarity");break;case"SR":if(null==c["new"]&&(c["new"]={}),q=null!=(u=null!=(v=l.match(/X[+-]?[\d\.]+/))?v[0].slice(1):void 0)?u:1,r=null!=(w=null!=(x=l.match(/Y[+-]?[\d\.]+/))?x[0].slice(1):void 0)?w:1,h=null!=(y=l.match(/I[+-]?[\d\.]+/))?y[0].slice(1):void 0,i=null!=(z=l.match(/J[+-]?[\d\.]+/))?z[0].slice(1):void 0,1>q||1>r||q>1&&null==h||0>h||r>1&&null==i||0>i)throw new Error("invalid step repeat");c["new"].sr={x:q,y:r},null!=h&&(c["new"].sr.i=+h),null!=i&&(c["new"].sr.j=+i)}else if(a=a.block){if("M02"===a)return{set:{done:!0}};if("G"===a[0])switch(f=null!=(A=a.slice(1).match(/^\d{1,2}/))?A[0]:void 0){case"4":case"04":return{};case"1":case"01":case"2":case"02":case"3":case"03":f=f[f.length-1],j="1"===f?"i":"2"===f?"cw":"ccw",c.set={mode:j};break;case"36":case"37":c.set={region:"36"===f};break;case"70":case"71":c.set={backupUnits:"70"===f?"in":"mm"};break;case"74":case"75":c.set={quad:"74"===f?"s":"m"}}if(g=d(null!=(B=a.match(e))?B[0]:void 0,this.format),k=(null!=(C=a.match(/D0?[123]$/))?C[0]:void 0)||Object.keys(g).length){null!=k&&(k=k[k.length-1]),k=function(){switch(k){case"1":return"int";case"2":return"move";case"3":return"flash";default:return"last"}}(),c.op={"do":k};for(b in g)p=g[b],c.op[b]=p}else(n=null!=(D=a.match(/D\d+$/))?D[0]:void 0)&&(c.set={currentTool:n})}return c},a}(),b.exports=c}).call(this)},{"./coord-parser":4}],8:[function(a,b){(function(){var a;a=function(){function a(a){this.gerberFile=a,this.line=0,this.charIndex=0,this.end=this.gerberFile.length}return a.prototype.nextBlock=function(){var a,b,c;if(this.index>=this.end)return!1;for(b="",c=!1,0===this.line&&this.line++;!(this.charIndex>=this.end);)if(a=this.gerberFile[this.charIndex++],"%"===a){if(c)return{param:c};c=[]}else if("*"===a){if(!c)return{block:b};c.push(b),b=""}else"\n"===a?this.line++:a>=" "&&"~">=a&&(b+=a);return!1},a}(),b.exports=a}).call(this)},{}],9:[function(a,b){(function(){var c,d,e;e=a("./obj-to-xml"),d=a("./plotter"),c={drill:!1,pretty:!1,object:!1},b.exports=function(b,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;null==f&&(f={}),m={};for(l in c)o=c[l],m[l]=o;for(l in f)o=f[l],m[l]=o;if("object"==typeof b){if(null!=b.svg)return e(b,{pretty:m.pretty});throw new Error("non SVG object cannot be converted to an SVG string")}m.drill?(h=a("./drill-reader"),g=a("./drill-parser")):(h=a("./gerber-reader"),g=a("./gerber-parser")),n=new d(b,h,g);try{r=n.plot()}catch(t){throw j=t,new Error("Error at line "+n.reader.line+" - "+j.message)}n.bbox.xMin>=n.bbox.xMax?(n.bbox.xMin=0,n.bbox.xMax=0,p=0):p=n.bbox.xMax-n.bbox.xMin,n.bbox.yMin>=n.bbox.yMax?(n.bbox.yMin=0,n.bbox.yMax=0,k=0):k=n.bbox.yMax-n.bbox.yMin,q={svg:{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:""+p+n.units,height:""+k+n.units,viewBox:[n.bbox.xMin,n.bbox.yMin,p,k],_:[]}},s=n.attr;for(i in s)o=s[i],q.svg[i]=o;return n.defs.length&&q.svg._.push({defs:{_:n.defs}}),n.group.g._.length&&q.svg._.push(n.group),m.object?q:e(q,{pretty:m.pretty})}}).call(this)},{"./drill-parser":5,"./drill-reader":6,"./gerber-parser":7,"./gerber-reader":8,"./obj-to-xml":12,"./plotter":14}],10:[function(a,b){(function(){var a,c,d,e,f,g;c=/[\+\-\/xX\(\)]/,a=/[\$\d\.]+/,d=new RegExp("("+c.source+")|("+a.source+")","g"),g=function(a){var b;return b=a.match(d)},e=function(b){return a.test(b)},f=function(a){var b,c,d,f,h,i,j;return j=g(a),c=0,i=function(){return j[c]},b=function(a){return a===i()?c++:void 0},h=function(){var a,c;if(c=i(),b(c),e(c))a={type:"n",val:c};else{if("("!==c)throw new Error(""+c+" is unexpected in an arithmetic string");if(a=d(),")"!==i())throw new Error("expected ')'");b(")")}return a},f=function(){var a,c,d;for(a=h(),d=i();"x"===d||"/"===d||"X"===d;)b(d),"X"===d&&(d="x"),c=h(),a={type:d,left:a,right:c},d=i();return a},(d=function(){var a,c,d;for(a=f(),d=i();"+"===d||"-"===d;)b(d),c=f(),a={type:d,left:a,right:c},d=i();return a})()},b.exports={tokenize:g,isNumber:e,parse:f}}).call(this)},{}],11:[function(a,b){(function(){var c,d,e,f;e=a("./pad-shapes"),d=a("./macro-calc"),f=a("./unique-id"),c=function(){function a(a){this.modifiers={},this.name=a[0].slice(2),this.blocks=a.slice(1),this.shapes=[],this.masks=[],this.lastExposure=null,this.bbox=[null,null,null,null]}return a.prototype.run=function(a,b){var c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(null==b&&(b=[]),this.lastExposure=null,this.shapes=[],this.masks=[],this.bbox=[null,null,null,null],this.modifiers={},e=l=0,p=b.length;p>l;e=++l)g=b[e],this.modifiers["$"+(e+1)]=g;for(t=this.blocks,m=0,q=t.length;q>m;m++)c=t[m],this.runBlock(c);for(i="tool-"+a+"-pad-"+f(),h=[],u=this.masks,n=0,r=u.length;r>n;n++)g=u[n],h.push(g);if(this.shapes.length>1){for(d={id:i,_:[]},v=this.shapes,o=0,s=v.length;s>o;o++)j=v[o],d._.push(j);h=[{g:d}]}else 1===this.shapes.length&&(k=Object.keys(this.shapes[0])[0],this.shapes[0][k].id=i,h.push(this.shapes[0]));return{pad:h,padId:i,bbox:this.bbox,trace:!1}},a.prototype.runBlock=function(a){var b,c,d,e,f,g,h,i;switch(a[0]){case"$":return e=null!=(i=a.match(/^\$\d+(?=\=)/))?i[0]:void 0,f=a.slice(1+e.length),this.modifiers[e]=this.getNumber(f);case"1":case"2":case"20":case"21":case"22":case"4":case"5":case"6":case"7":for(c=a.split(","),d=g=0,h=c.length;h>g;d=++g)b=c[d],c[d]=this.getNumber(b);return this.primitive(c);default:if("0"!==a[0])throw new Error("'"+a+"' unrecognized tool macro block")}},a.prototype.primitive=function(a){var b,c,d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;switch(h=!1,l=!1,n=null,a[0]){case 1:n=e.circle({dia:a[2],cx:a[3],cy:a[4]}),0===a[1]?h=!0:this.addBbox(n.bbox);break;case 2:case 20:n=e.vector({width:a[2],x1:a[3],y1:a[4],x2:a[5],y2:a[6]}),a[7]&&(n.shape.line.transform="rotate("+a[7]+")"),0===a[1]?h=!0:this.addBbox(n.bbox,a[7]);break;case 21:n=e.rect({cx:a[4],cy:a[5],width:a[2],height:a[3]}),a[6]&&(n.shape.rect.transform="rotate("+a[6]+")"),0===a[1]?h=!0:this.addBbox(n.bbox,a[6]);break;case 22:n=e.lowerLeftRect({x:a[4],y:a[5],width:a[2],height:a[3]}),a[6]&&(n.shape.rect.transform="rotate("+a[6]+")"),0===a[1]?h=!0:this.addBbox(n.bbox,a[6]);break;case 4:for(j=[],c=o=3,z=3+2*a[2];z>=o;c=o+=2)j.push([a[c],a[c+1]]);n=e.outline({points:j}),(k=a[a.length-1])&&(n.shape.polygon.transform="rotate("+k+")"),0===a[1]?h=!0:this.addBbox(n.bbox,a[a.length-1]);break;case 5:if(0!==a[6]&&(0!==a[3]||0!==a[4]))throw new RangeError("polygon center must be 0,0 if rotated in macro");n=e.polygon({cx:a[3],cy:a[4],dia:a[5],verticies:a[2],degrees:a[6]}),0===a[1]?h=!0:this.addBbox(n.bbox);break;case 6:if(0!==a[9]&&(0!==a[1]||0!==a[2]))throw new RangeError("moiré center must be 0,0 if rotated in macro");if(n=e.moire({cx:a[1],cy:a[2],outerDia:a[3],ringThx:a[4],ringGap:a[5],maxRings:a[6],crossThx:a[7],crossLength:a[8]}),a[9])for(A=n.shape,p=0,s=A.length;s>p;p++)m=A[p],null!=m.line&&(m.line.transform="rotate("+a[9]+")");this.addBbox(n.bbox,a[9]);break;case 7:if(0!==a[9]&&(0!==a[1]||0!==a[2]))throw new RangeError("thermal center must be 0,0 if rotated in macro");if(n=e.thermal({cx:a[1],cy:a[2],outerDia:a[3],innerDia:a[4],gap:a[5]}),a[6])for(B=n.shape,q=0,t=B.length;t>q;q++)if(m=B[q],null!=m.mask)for(C=m.mask._,r=0,u=C.length;u>r;r++)g=C[r],null!=g.rect&&(g.rect.transform="rotate("+a[6]+")");this.addBbox(n.bbox,a[6]);break;default:throw new Error(""+a[0]+" is not a valid primitive code")}if(h){for(d in n.shape)n.shape[d].fill="#000";if(0!==this.lastExposure){if(this.lastExposure=0,i="macro-"+this.name+"-mask-"+f(),g={mask:{id:i}},g.mask._=[{rect:{x:this.bbox[0],y:this.bbox[1],width:this.bbox[2]-this.bbox[0],height:this.bbox[3]-this.bbox[1],fill:"#fff"}}],1===this.shapes.length)for(d in this.shapes[0])this.shapes[0][d].mask="url(#"+i+")";else if(this.shapes.length>1){for(b={mask:"url(#"+i+")",_:[]},D=this.shapes,x=0,v=D.length;v>x;x++)m=D[x],b._.push(m);this.shapes=[{g:b}]}this.masks.push(g)}return this.masks[this.masks.length-1].mask._.push(n.shape)}if(this.lastExposure=1,Array.isArray(n.shape)){for(E=n.shape,F=[],y=0,w=E.length;w>y;y++)m=E[y],F.push(null!=m.mask?this.masks.push(m):this.shapes.push(m));return F}return this.shapes.push(n.shape)},a.prototype.addBbox=function(a,b){var c,d,e,f,g,h,i,j,k;if(null==b&&(b=0),b){for(f=Math.sin(b*Math.PI/180),c=Math.cos(b*Math.PI/180),Math.abs(f)<1e-9&&(f=0),Math.abs(c)<1e-9&&(c=0),e=[[a[0],a[1]],[a[2],a[1]],[a[2],a[3]],[a[0],a[3]]],k=[],i=0,j=e.length;j>i;i++)d=e[i],g=d[0]*c-d[1]*f,h=d[0]*f+d[1]*c,(null===this.bbox[0]||g<this.bbox[0])&&(this.bbox[0]=g),(null===this.bbox[1]||h<this.bbox[1])&&(this.bbox[1]=h),(null===this.bbox[2]||g>this.bbox[2])&&(this.bbox[2]=g),k.push(null===this.bbox[3]||h>this.bbox[3]?this.bbox[3]=h:void 0);return k}return(null===this.bbox[0]||a[0]<this.bbox[0])&&(this.bbox[0]=a[0]),(null===this.bbox[1]||a[1]<this.bbox[1])&&(this.bbox[1]=a[1]),(null===this.bbox[2]||a[2]>this.bbox[2])&&(this.bbox[2]=a[2]),null===this.bbox[3]||a[3]>this.bbox[3]?this.bbox[3]=a[3]:void 0},a.prototype.getNumber=function(a){return a.match(/^[+-]?[\d.]+$/)?Number(a):a.match(/^\$\d+$/)?Number(this.modifiers[a]):this.evaluate(d.parse(a))},a.prototype.evaluate=function(a){switch(a.type){case"n":return this.getNumber(a.val);case"+":return this.evaluate(a.left)+this.evaluate(a.right);case"-":return this.evaluate(a.left)-this.evaluate(a.right);case"x":return this.evaluate(a.left)*this.evaluate(a.right);case"/":return this.evaluate(a.left)/this.evaluate(a.right)}},a}(),b.exports=c}).call(this)},{"./macro-calc":10,"./pad-shapes":13,"./unique-id":16}],12:[function(a,b){(function(){var a,c,d,e;e=function(a,b){var c;if(c="",0===b)return"";for(;b>1;)1&b&&(c+=a),b>>=1,a+=a;return c+a},a="_",c="  ",d=function(b,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(null==f&&(f={}),p=f.pretty,l=null!=(w=f.indent)?w:0,h=null!=(x=f.maxDec)?x:!1,i=function(a){return"number"==typeof a?Number(a.toFixed(h)):a},n=p?"\n":"",q=n?"string"==typeof p?p:c:"",q=e(q,l),t="","function"==typeof b&&(b=b()),Array.isArray(b))for(k=u=0,v=b.length;v>u;k=++u)o=b[k],t+=(0!==k?n:"")+d(o,f);else if("object"==typeof b){if(g=!1,j=Object.keys(b)[0],null!=j){t=""+q+"<"+j,"function"==typeof b[j]&&(b[j]=b[j]()),y=b[j];for(m in y)s=y[m],"function"==typeof s&&(s=s()),m===a?g=s:(Array.isArray(s)&&(h&&(s=function(){var a,b,c;for(c=[],a=0,b=s.length;b>a;a++)r=s[a],c.push(i(r));return c}()),s=s.join(" ")),h&&(s=i(s)),t+=" "+m+'="'+s+'"');g&&(t+=">"+n+d(g,{pretty:p,indent:l+1})),t+=null!=b[j]._?""+n+q+"</"+j+">":"/>"}}else t+=""+b+" ";return t},b.exports=d}).call(this)},{}],13:[function(a,b){(function(){var c,d,e,f,g,h,i,j,k;j=a("./unique-id"),c=function(a){var b;if(null==a.dia)throw new Error("circle function requires diameter");if(null==a.cx)throw new Error("circle function requires x center");if(null==a.cy)throw new Error("circle function requires y center");return b=a.dia/2,{shape:{circle:{cx:a.cx,cy:a.cy,r:b}},bbox:[a.cx-b,a.cy-b,a.cx+b,a.cy+b]}},h=function(a){var b,c,d,e;if(null==a.width)throw new Error("rectangle requires width");if(null==a.height)throw new Error("rectangle requires height");if(null==a.cx)throw new Error("rectangle function requires x center");if(null==a.cy)throw new Error("rectangle function requires y center");return d=a.cx-a.width/2,e=a.cy-a.height/2,c={shape:{rect:{x:d,y:e,width:a.width,height:a.height}},bbox:[d,e,d+a.width,e+a.height]},a.obround&&(b=.5*Math.min(a.width,a.height),c.shape.rect.rx=b,c.shape.rect.ry=b),c},g=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(null==a.dia)throw new Error("polygon requires diameter");if(null==a.verticies)throw new Error("polygon requires verticies");if(null==a.cx)throw new Error("polygon function requires x center");if(null==a.cy)throw new Error("polygon function requires y center");for(g=null!=a.degrees?a.degrees*Math.PI/180:0,h=2*Math.PI/a.verticies,d=a.dia/2,c="",l=null,o=null,k=null,n=null,b=p=0,q=a.verticies;q>=0?q>p:p>q;b=q>=0?++p:--p)i=g+b*h,e=d*Math.cos(i),f=d*Math.sin(i),Math.abs(e)<1e-9&&(e=0),Math.abs(f)<1e-9&&(f=0),j=a.cx+e,m=a.cy+f,(l>j||null===l)&&(l=j),(j>k||null===k)&&(k=j),(o>m||null===o)&&(o=m),(m>n||null===n)&&(n=m),c+=" "+j+","+m;return{shape:{polygon:{points:c.slice(1)}},bbox:[l,o,k,n]}},k=function(a){var b,c,d;if(null==a.x1)throw new Error("vector function requires start x");if(null==a.y1)throw new Error("vector function requires start y");if(null==a.x2)throw new Error("vector function requires end x");if(null==a.y2)throw new Error("vector function requires end y");if(null==a.width)throw new Error("vector function requires width");return b=Math.abs(Math.atan((a.y2-a.y1)/(a.x2-a.x1))),c=a.width/2*Math.sin(b),d=a.width/2*Math.cos(b),1e-7>c&&(c=0),1e-7>d&&(d=0),{shape:{line:{x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2,"stroke-width":a.width,"stroke-linecap":"butt"}},bbox:[Math.min(a.x1,a.x2)-c,Math.min(a.y1,a.y2)-d,Math.max(a.x1,a.x2)+c,Math.max(a.y1,a.y2)+d]}},d=function(a){if(null==a.width)throw new Error("lower left rect requires width");if(null==a.height)throw new Error("lower left rect requires height");if(null==a.x)throw new Error("lower left rectangle requires x");if(null==a.y)throw new Error("lower left rectangle requires y");return{shape:{rect:{x:a.x,y:a.y,width:a.width,height:a.height}},bbox:[a.x,a.y,a.x+a.width,a.y+a.height]}},f=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(!(Array.isArray(a.points)&&a.points.length>1))throw new Error("outline function requires points array");for(g=null,k=null,f=null,j=null,c="",n=a.points,l=0,m=n.length;m>l;l++){if(b=n[l],!Array.isArray(b)||2!==b.length)throw new Error("outline function requires points array");d=b[0],h=b[1],(g>d||null===g)&&(g=d),(d>f||null===f)&&(f=d),(k>h||null===k)&&(k=h),(h>j||null===j)&&(j=h),c+=" "+d+","+h}if(e=a.points[a.points.length-1][0],i=a.points[a.points.length-1][1],e!==a.points[0][0]||i!==a.points[0][1])throw new RangeError("last point must match first point of outline");return{shape:{polygon:{points:c.slice(1)}},bbox:[g,k,f,j]}},e=function(a){var b,c,d;if(null==a.cx)throw new Error("moiré requires x center");if(null==a.cy)throw new Error("moiré requires y center");if(null==a.outerDia)throw new Error("moiré requires outer diameter");if(null==a.ringThx)throw new Error("moiré requires ring thickness");
if(null==a.ringGap)throw new Error("moiré requires ring gap");if(null==a.maxRings)throw new Error("moiré requires max rings");if(null==a.crossLength)throw new Error("moiré requires crosshair length");if(null==a.crossThx)throw new Error("moiré requires crosshair thickness");for(d=[{line:{x1:a.cx-a.crossLength/2,y1:0,x2:a.cx+a.crossLength/2,y2:0,"stroke-width":a.crossThx,"stroke-linecap":"butt"}},{line:{x1:0,y1:a.cy-a.crossLength/2,x2:0,y2:a.cy+a.crossLength/2,"stroke-width":a.crossThx,"stroke-linecap":"butt"}}],b=(a.outerDia-a.ringThx)/2,c=0;b>=a.ringThx&&c<a.maxRings;)d.push({circle:{cx:a.cx,cy:a.cy,r:b,fill:"none","stroke-width":a.ringThx}}),c++,b-=a.ringThx+a.ringGap;return b+=.5*a.ringThx,b>0&&c<a.maxRings&&d.push({circle:{cx:a.cx,cy:a.cy,r:b}}),{shape:d,bbox:[Math.min(a.cx-a.crossLength/2,a.cx-a.outerDia/2),Math.min(a.cy-a.crossLength/2,a.cy-a.outerDia/2),Math.max(a.cx+a.crossLength/2,a.cx+a.outerDia/2),Math.max(a.cy+a.crossLength/2,a.cy+a.outerDia/2)]}},i=function(a){var b,c,d,e,f,g,h,i,k;if(null==a.cx)throw new Error("thermal requires x center");if(null==a.cy)throw new Error("thermal requires y center");if(null==a.outerDia)throw new Error("thermal requires outer diameter");if(null==a.innerDia)throw new Error("thermal requires inner diameter");if(null==a.gap)throw new Error("thermal requires gap");return c="thermal-mask-"+j(),f=(a.outerDia-a.innerDia)/2,d=a.outerDia/2,e=d-f/2,h=a.cx-d,g=a.cx+d,k=a.cy-d,i=a.cy+d,b=a.gap/2,{shape:[{mask:{id:c,_:[{circle:{cx:a.cx,cy:a.cy,r:d,"stroke-width":0,fill:"#fff"}},{rect:{x:h,y:-b,width:a.outerDia,height:a.gap,"stroke-width":0,fill:"#000"}},{rect:{x:-b,y:k,width:a.gap,height:a.outerDia,"stroke-width":0,fill:"#000"}}]}},{circle:{cx:a.cx,cy:a.cy,r:e,fill:"none","stroke-width":f,mask:"url(#"+c+")"}}],bbox:[h,k,g,i]}},b.exports={circle:c,rect:h,polygon:g,vector:k,lowerLeftRect:d,outline:f,moire:e,thermal:i}}).call(this)},{"./unique-id":16}],14:[function(a,b){(function(){var c,d,e,f,g,h,i,j,k;k=a("./unique-id"),e=a("./macro-tool"),j=a("./standard-tool"),d=Math.PI/2,g=3*d,h=2*Math.PI,i=1e-7,c="in",f=function(){function a(a,b,c){null==a&&(a=""),null!=b&&(this.reader=new b(a)),null!=c&&(this.parser=new c),this.macros={},this.tools={},this.currentTool="",this.defs=[],this.group={g:{_:[]}},this.polarity="D",this.current=[],this.stepRepeat={x:1,y:1,i:0,j:0},this.srOverClear=!1,this.srOverCurrent=[],this.units=null,this.mode=null,this.quad=null,this.lastOp=null,this.region=!1,this.done=!1,this.pos={x:0,y:0},this.path=[],this.attr={"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":0,stroke:"#000"},this.bbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},this.layerBbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0}}return a.prototype.addTool=function(a,b){var c,d;if(null!=this.tools[a])throw new Error("cannot reassign tool "+a);return d=null!=b.macro?this.macros[b.macro].run(a,b.mods):j(a,b),this.tools[a]={trace:d.trace,pad:function(){var a,b,e,f;for(e=d.pad,f=[],a=0,b=e.length;b>a;a++)c=e[a],f.push(c);return f}(),flash:function(a,b){return{use:{x:a,y:b,"xlink:href":"#"+d.padId}}},bbox:function(a,b){return null==a&&(a=0),null==b&&(b=0),{xMin:a+d.bbox[0],yMin:b+d.bbox[1],xMax:a+d.bbox[2],yMax:b+d.bbox[3]}}},this.changeTool(a)},a.prototype.changeTool=function(a){var b;if(this.finishPath(),this.region)throw new Error("cannot change tool when in region mode");if(null!=this.tools[a])return this.currentTool=a;if(!(null!=(b=this.parser)?b.fmat:void 0))throw new Error("tool "+a+" is not defined")},a.prototype.command=function(a){var b,c,d,f,g,h,i,j;if(null!=a.macro)return c=new e(a.macro),void(this.macros[c.name]=c);h=a.set;for(f in h){if(g=h[f],"units"===f&&null!=this.units&&null==(null!=(i=this.parser)?i.fmat:void 0))throw new Error("cannot redefine units");if("notation"===f&&null!=this.notation)throw new Error("cannot redefine notation");"region"===f&&this.finishPath(),"currentTool"===f?this.changeTool(g):this[f]=g}if(null!=a.tool){j=a.tool;for(b in j)d=j[b],this.addTool(b,d)}if(null!=a.op&&this.operate(a.op),null!=a["new"]){if(this.finishLayer(),null!=a["new"].layer)return this.polarity=a["new"].layer;if(null!=a["new"].sr)return this.finishSR(),this.stepRepeat=a["new"].sr}},a.prototype.plot=function(){for(var a,b;!this.done;){if(a=this.reader.nextBlock(),a===!1)throw new Error(null==(null!=(b=this.parser)?b.fmat:void 0)?"end of file encountered before required M02 command":"end of drill file encountered before M00/M30 command");this.command(this.parser.parseCommand(a))}return this.finish()},a.prototype.finish=function(){return this.finishPath(),this.finishLayer(),this.finishSR(),this.group.g.fill="currentColor",this.group.g.stroke="currentColor",this.group.g.transform="translate(0,"+(this.bbox.yMin+this.bbox.yMax)+") scale(1,-1)"},a.prototype.finishSR=function(){var a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q;if(this.srOverClear&&this.srOverCurrent){for(c="gerber-sr-mask_"+k(),b={mask:{color:"#000",id:c,_:[]}},b.mask._.push({rect:{fill:"#fff",x:this.bbox.xMin,y:this.bbox.yMin,width:this.bbox.xMax-this.bbox.xMin,height:this.bbox.yMax-this.bbox.yMin}}),e=g=0,l=this.stepRepeat.x*this.stepRepeat.i,m=this.stepRepeat.i;m>0?l>g:g>l;e=g+=m)for(f=h=0,n=this.stepRepeat.y*this.stepRepeat.j,o=this.stepRepeat.j;o>0?n>h:h>n;f=h+=o)for(p=this.srOverCurrent,i=0,j=p.length;j>i;i++)a=p[i],d={use:{}},0!==e&&(d.use.x=e),0!==f&&(d.use.y=f),d.use["xlink:href"]="#"+(null!=(q=a.C)?q:a.D),null!=a.D&&(d.use.fill="#fff"),b.mask._.push(d);return this.srOverClear=!1,this.srOverCurrent=[],this.defs.push(b),this.group.g.mask="url(#"+c+")"}},a.prototype.finishLayer=function(){var a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q;if(this.finishPath(),this.current.length){if(this.stepRepeat.x>1||this.stepRepeat.y>1){for(e="gerber-sr_"+k(),this.current=[{g:{id:e,_:this.current}}],(this.srOverClear||this.stepRepeat.i<this.layerBbox.xMax-this.layerBbox.xMin||this.stepRepeat.j<this.layerBbox.yMax-this.layerBbox.yMin)&&(d={},d[this.polarity]=e,this.srOverCurrent.push(d),"C"===this.polarity&&(this.srOverClear=!0,this.defs.push(this.current[0]))),h=j=0,o=this.stepRepeat.x;o>=0?o>j:j>o;h=o>=0?++j:--j)for(i=l=0,p=this.stepRepeat.y;p>=0?p>l:l>p;i=p>=0?++l:--l)(0!==h||0!==i)&&(f={use:{"xlink:href":"#"+e}},0!==h&&(f.use.x=h*this.stepRepeat.i),0!==i&&(f.use.y=i*this.stepRepeat.j),this.current.push(f));this.layerBbox.xMax+=(this.stepRepeat.x-1)*this.stepRepeat.i,this.layerBbox.yMax+=(this.stepRepeat.y-1)*this.stepRepeat.j}if(this.addBbox(this.layerBbox,this.bbox),this.layerBbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},"D"===this.polarity)if(null!=this.group.g.mask&&this.current.unshift(this.group),null==this.group.g.mask&&this.group.g._.length)for(q=this.current,m=0,n=q.length;n>m;m++)a=q[m],this.group.g._.push(a);else this.group={g:{_:this.current}};else"C"!==this.polarity||this.srOverClear||(c="gerber-mask_"+k(),g=this.bbox.xMax-this.bbox.xMin,b=this.bbox.yMax-this.bbox.yMin,this.current.unshift({rect:{x:this.bbox.xMin,y:this.bbox.yMin,width:g,height:b,fill:"#fff"}}),this.defs.push({mask:{id:c,color:"#000",_:this.current}}),this.group.g.mask="url(#"+c+")");return this.current=[]}},a.prototype.finishPath=function(){var a,b,c,d;if(this.path.length){if(b={path:{}},this.region)this.path.push("Z");else{d=this.tools[this.currentTool].trace;for(a in d)c=d[a],b.path[a]=c}return b.path.d=this.path,this.current.push(b),this.path=[]}},a.prototype.operate=function(a){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if("last"===a["do"]?a["do"]=this.lastOp:this.lastOp=a["do"],g=this.pos.x,h=this.pos.y,"I"===this.notation?(this.pos.x+=null!=(l=a.x)?l:0,this.pos.y+=null!=(m=a.y)?m:0):(this.pos.x=null!=(n=a.x)?n:this.pos.x,this.pos.y=null!=(o=a.y)?o:this.pos.y),d=this.pos.x,e=this.pos.y,i=this.tools[this.currentTool],null==this.units&&(this.units=null!=this.backupUnits?this.backupUnits:c),null==this.notation){if(null==(null!=(p=this.parser)?p.fmat:void 0))throw new Error("format has not been set");this.notation="A"}if("move"===a["do"]&&this.path.length)return this.path.push("M",d,e);if("flash"===a["do"]){if(this.finishPath(),this.region)throw new Error("cannot flash while in region mode");if(i.pad){for(q=i.pad,j=0,k=q.length;k>j;j++)f=q[j],this.defs.push(f);i.pad=!1}return this.current.push(i.flash(d,e)),this.addBbox(i.bbox(d,e),this.layerBbox)}if("int"===a["do"]){if(!this.region&&!i.trace)throw new Error(""+this.currentTool+" is not a strokable tool");return 0===this.path.length&&(this.path.push("M",g,h),b=this.region?{xMin:g,yMin:h,xMax:g,yMax:h}:i.bbox(g,h),this.addBbox(b,this.layerBbox)),null==this.mode&&(this.mode="i"),"i"===this.mode?this.drawLine(g,h,d,e):(null==a.i&&(a.i=0),null==a.j&&(a.j=0),this.drawArc(g,h,d,e,a.i,a.j))}},a.prototype.drawLine=function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return q=this.tools[this.currentTool],f=this.region?{xMin:c,yMin:e,xMax:c,yMax:e}:q.bbox(c,e),this.addBbox(f,this.layerBbox),this.region||q.trace["stroke-width"]>=0?this.path.push("L",c,e):(l=q.pad[0].rect.width/2,k=q.pad[0].rect.height/2,m=a-l,n=a+l,o=b-k,p=b+k,g=c-l,h=c+l,i=e-k,j=e+k,r=Math.atan2(e-b,c-a),r>=0&&d>r?this.path.push("M",m,o,n,o,h,i,h,j,g,j,m,p,"Z"):r>=d&&r<Math.PI?this.path.push("M",m,o,n,o,n,p,h,j,g,j,g,i,"Z"):-Math.PI<=r&&-d>r?this.path.push("M",n,o,n,p,m,p,g,j,g,i,h,i,"Z"):r>=-d&&0>r?this.path.push("M",m,o,g,i,h,i,h,j,n,p,m,p,"Z"):void 0)},a.prototype.drawArc=function(a,b,c,e,f,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;if(i=1.01*Math.pow(10,-((null!=(J=null!=(K=this.parser)?K.format.places[1]:void 0)?J:6)-1)),s=this.tools[this.currentTool],!this.region&&!s.trace["stroke-width"])throw Error("cannot stroke an arc with non-circular tool "+this.currentTool);if(null==this.quad)throw new Error("arc quadrant mode has not been set");for(p=Math.sqrt(Math.pow(f,2)+Math.pow(j,2)),r="cw"===this.mode?0:1,o=0,w=[],l=[[a+f,b+j]],"s"===this.quad&&l.push([a-f,b-j],[a-f,b+j],[a+f,b-j]),F=0,H=l.length;H>F;F++)k=l[F],n=Math.sqrt(Math.pow(k[0]-c,2)+Math.pow(k[1]-e,2)),Math.abs(p-n)<i&&w.push({x:k[0],y:k[1]});for(u=0,v=0,m=null,G=0,I=w.length;I>G&&(k=w[G],u=Math.atan2(e-k.y,c-k.x),0>u&&(u+=h),v=Math.atan2(b-k.y,a-k.x),0>v&&(v+=h),"cw"===this.mode&&u>v?v+=h:"ccw"===this.mode&&v>u&&(u+=h),t=Math.abs(u-v),"s"===this.quad&&d>=t?m=k:"m"===this.quad&&(t>=Math.PI&&(o=1),m={x:k.x,y:k.y}),null==m);G++);return null!=m?(q=this.region?0:s.bbox().xMax,"cw"===this.mode&&(L=[v,u],u=L[0],v=L[1]),A=v>0?h:0,E=d+(v>d?h:0),z=Math.PI+(v>Math.PI?h:0),D=g+(v>g?h:0),y=z>=v&&u>=z?m.x-p-q:Math.min(a,c)-q,x=A>=v&&u>=A?m.x+p+q:Math.max(a,c)+q,C=D>=v&&u>=D?m.y-p-q:Math.min(b,e)-q,B=E>=v&&u>=E?m.y+p+q:Math.max(b,e)+q,"m"===this.quad&&Math.abs(a-c)<i&&Math.abs(b-e)<i&&(this.path.push("A",p,p,0,0,r,c+2*f,e+2*j),y=m.x-p-q,C=m.y-p-q,x=m.x+p+q,B=m.y+p+q),this.path.push("A",p,p,0,o,r,c,e),this.addBbox({xMin:y,yMin:C,xMax:x,yMax:B},this.layerBbox)):void 0},a.prototype.addBbox=function(a,b){return a.xMin<b.xMin&&(b.xMin=a.xMin),a.yMin<b.yMin&&(b.yMin=a.yMin),a.xMax>b.xMax&&(b.xMax=a.xMax),a.yMax>b.yMax?b.yMax=a.yMax:void 0},a}(),b.exports=f}).call(this)},{"./macro-tool":11,"./standard-tool":15,"./unique-id":16}],15:[function(a,b){(function(){var c,d,e;e=a("./unique-id"),c=a("./pad-shapes"),d=function(a,b){var d,f,g,h,i,j,k;if(j={pad:[],trace:!1},b.cx=0,b.cy=0,f="tool-"+a+"-pad-"+e(),k="",null!=b.dia&&null==b.verticies){if(null!=b.obround||null!=b.width||null!=b.height||null!=b.degrees)throw new Error("incompatible parameters for tool "+a);if(b.dia<0)throw new RangeError(""+a+" circle diameter out of range ("+b.dia+"<0)");k="circle",null==b.hole&&(j.trace={"stroke-width":b.dia,fill:"none"})}else if(null!=b.width&&null!=b.height){if(null!=b.dia||null!=b.verticies||null!=b.degrees)throw new Error("incompatible parameters for tool "+a);if(b.width<=0)throw new RangeError(""+a+" rect width out of range ("+b.width+"<=0)");if(b.height<=0)throw new RangeError(""+a+" rect height out of range ("+b.height+"<=0)");k="rect",null!=b.hole||b.obround||(j.trace={})}else{if(null==b.dia||null==b.verticies)throw new Error("unidentified standard tool shape");if(null!=b.obround||null!=b.width||null!=b.height)throw new Error("incompatible parameters for tool "+a);if(b.verticies<3||b.verticies>12)throw new RangeError(""+a+" polygon points out of range ("+b.verticies+"<3 or >12)]");k="polygon"}if(i=c[k](b),null!=b.hole){if(d=null,null!=b.hole.dia&&null==b.hole.width&&null==b.hole.height){if(!(b.hole.dia>=0))throw new RangeError(""+a+" hole diameter out of range ("+b.hole.dia+"<0)");d=c.circle({cx:b.cx,cy:b.cy,dia:b.hole.dia}),d=d.shape,d.circle.fill="#000"}else{if(null==b.hole.width||null==b.hole.height)throw new Error(""+a+" has invalid hole parameters");if(!(b.hole.width>=0))throw new RangeError(""+a+" hole width out of range ("+b.hole.width+"<0)");if(!(b.hole.height>=0))throw new RangeError(""+a+" hole height out of range");d=c.rect({cx:b.cx,cy:b.cy,width:b.hole.width,height:b.hole.height}),d=d.shape,d.rect.fill="#000"}h=f+"-mask",g={mask:{id:f+"-mask",_:[{rect:{x:i.bbox[0],y:i.bbox[1],width:i.bbox[2]-i.bbox[0],height:i.bbox[3]-i.bbox[1],fill:"#fff"}},d]}},i.shape[k].mask="url(#"+h+")",j.pad.push(g)}return f&&(i.shape[k].id=f),j.pad.push(i.shape),j.bbox=i.bbox,j.padId=f,j},b.exports=d}).call(this)},{"./pad-shapes":13,"./unique-id":16}],16:[function(a,b){(function(){var a,c;c=1e3,a=function(){return c++},b.exports=a}).call(this)},{}],17:[function(a,b){function c(a,b,c){return d(a,!0,"function"==typeof b&&e(b,c,1))}var d=a("lodash._baseclone"),e=a("lodash._basecreatecallback");b.exports=c},{"lodash._baseclone":18,"lodash._basecreatecallback":40}],18:[function(a,b){function c(a,b,m,n,q){if(m){var s=m(a);if("undefined"!=typeof s)return s}var w=i(a);if(!w)return a;var A=x.call(a);if(!v[A])return a;var B=z[A];switch(A){case o:case p:return new B(+a);case r:case u:return new B(a);case t:return s=B(a.source,l.exec(a)),s.lastIndex=a.lastIndex,s}var C=h(a);if(b){var D=!n;n||(n=g()),q||(q=g());for(var E=n.length;E--;)if(n[E]==a)return q[E];s=C?B(a.length):{}}else s=C?k(a):d({},a);return C&&(y.call(a,"index")&&(s.index=a.index),y.call(a,"input")&&(s.input=a.input)),b?(n.push(a),q.push(s),(C?e:f)(a,function(a,d){s[d]=c(a,b,m,n,q)}),D&&(j(n),j(q)),s):s}var d=a("lodash.assign"),e=a("lodash.foreach"),f=a("lodash.forown"),g=a("lodash._getarray"),h=a("lodash.isarray"),i=a("lodash.isobject"),j=a("lodash._releasearray"),k=a("lodash._slice"),l=/\w*$/,m="[object Arguments]",n="[object Array]",o="[object Boolean]",p="[object Date]",q="[object Function]",r="[object Number]",s="[object Object]",t="[object RegExp]",u="[object String]",v={};v[q]=!1,v[m]=v[n]=v[o]=v[p]=v[r]=v[s]=v[t]=v[u]=!0;var w=Object.prototype,x=w.toString,y=w.hasOwnProperty,z={};z[n]=Array,z[o]=Boolean,z[p]=Date,z[q]=Function,z[s]=Object,z[r]=Number,z[t]=RegExp,z[u]=String,b.exports=c},{"lodash._getarray":19,"lodash._releasearray":21,"lodash._slice":24,"lodash.assign":25,"lodash.foreach":30,"lodash.forown":31,"lodash.isarray":36,"lodash.isobject":38}],19:[function(a,b){function c(){return d.pop()||[]}var d=a("lodash._arraypool");b.exports=c},{"lodash._arraypool":20}],20:[function(a,b){var c=[];b.exports=c},{}],21:[function(a,b){function c(a){a.length=0,d.length<e&&d.push(a)}var d=a("lodash._arraypool"),e=a("lodash._maxpoolsize");b.exports=c},{"lodash._arraypool":22,"lodash._maxpoolsize":23}],22:[function(a,b){b.exports=a(20)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash._getarray/node_modules/lodash._arraypool/index.js":20}],23:[function(a,b){var c=40;b.exports=c},{}],24:[function(a,b){function c(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}b.exports=c},{}],25:[function(a,b){var c=a("lodash._basecreatecallback"),d=a("lodash.keys"),e=a("lodash._objecttypes"),f=function(a,b,f){var g,h=a,i=h;if(!h)return i;var j=arguments,k=0,l="number"==typeof f?2:j.length;if(l>3&&"function"==typeof j[l-2])var m=c(j[--l-1],j[l--],2);else l>2&&"function"==typeof j[l-1]&&(m=j[--l]);for(;++k<l;)if(h=j[k],h&&e[typeof h])for(var n=-1,o=e[typeof h]&&d(h),p=o?o.length:0;++n<p;)g=o[n],i[g]=m?m(i[g],h[g]):h[g];return i};b.exports=f},{"lodash._basecreatecallback":40,"lodash._objecttypes":26,"lodash.keys":27}],26:[function(a,b){var c={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};b.exports=c},{}],27:[function(a,b){var c=a("lodash._isnative"),d=a("lodash.isobject"),e=a("lodash._shimkeys"),f=c(f=Object.keys)&&f,g=f?function(a){return d(a)?f(a):[]}:e;b.exports=g},{"lodash._isnative":28,"lodash._shimkeys":29,"lodash.isobject":38}],28:[function(a,b){function c(a){return"function"==typeof a&&f.test(a)}var d=Object.prototype,e=d.toString,f=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");b.exports=c},{}],29:[function(a,b){var c=a("lodash._objecttypes"),d=Object.prototype,e=d.hasOwnProperty,f=function(a){var b,d=a,f=[];if(!d)return f;if(!c[typeof a])return f;for(b in d)e.call(d,b)&&f.push(b);return f};b.exports=f},{"lodash._objecttypes":26}],30:[function(a,b){function c(a,b,c){var f=-1,g=a?a.length:0;if(b=b&&"undefined"==typeof c?b:d(b,c,3),"number"==typeof g)for(;++f<g&&b(a[f],f,a)!==!1;);else e(a,b);return a}var d=a("lodash._basecreatecallback"),e=a("lodash.forown");b.exports=c},{"lodash._basecreatecallback":40,"lodash.forown":31}],31:[function(a,b){var c=a("lodash._basecreatecallback"),d=a("lodash.keys"),e=a("lodash._objecttypes"),f=function(a,b,f){var g,h=a,i=h;if(!h)return i;if(!e[typeof h])return i;b=b&&"undefined"==typeof f?b:c(b,f,3);for(var j=-1,k=e[typeof h]&&d(h),l=k?k.length:0;++j<l;)if(g=k[j],b(h[g],g,a)===!1)return i;return i};b.exports=f},{"lodash._basecreatecallback":40,"lodash._objecttypes":32,"lodash.keys":33}],32:[function(a,b){b.exports=a(26)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash._objecttypes/index.js":26}],33:[function(a,b){b.exports=a(27)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/index.js":27,"lodash._isnative":34,"lodash._shimkeys":35,"lodash.isobject":38}],34:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}],35:[function(a,b){b.exports=a(29)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._shimkeys/index.js":29,"lodash._objecttypes":32}],36:[function(a,b){var c=a("lodash._isnative"),d="[object Array]",e=Object.prototype,f=e.toString,g=c(g=Array.isArray)&&g,h=g||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&f.call(a)==d||!1};b.exports=h},{"lodash._isnative":37}],37:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}],38:[function(a,b){function c(a){return!(!a||!d[typeof a])}var d=a("lodash._objecttypes");b.exports=c},{"lodash._objecttypes":39}],39:[function(a,b){b.exports=a(26)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash._objecttypes/index.js":26}],40:[function(a,b){function c(a,b,c){if("function"!=typeof a)return e;if("undefined"==typeof b||!("prototype"in a))return a;var k=a.__bindData__;if("undefined"==typeof k&&(g.funcNames&&(k=!a.name),k=k||!g.funcDecomp,!k)){var l=j.call(a);g.funcNames||(k=!h.test(l)),k||(k=i.test(l),f(a,k))}if(k===!1||k!==!0&&1&k[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return d(a,b)}var d=a("lodash.bind"),e=a("lodash.identity"),f=a("lodash._setbinddata"),g=a("lodash.support"),h=/^\s*function[ \n\r\t]+\w/,i=/\bthis\b/,j=Function.prototype.toString;b.exports=c},{"lodash._setbinddata":41,"lodash.bind":44,"lodash.identity":60,"lodash.support":61}],41:[function(a,b){var c=a("lodash._isnative"),d=a("lodash.noop"),e={configurable:!1,enumerable:!1,value:null,writable:!1},f=function(){try{var a={},b=c(b=Object.defineProperty)&&b,d=b(a,a,a)&&b}catch(e){}return d}(),g=f?function(a,b){e.value=b,f(a,"__bindData__",e)}:d;b.exports=g},{"lodash._isnative":42,"lodash.noop":43}],42:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}],43:[function(a,b){function c(){}b.exports=c},{}],44:[function(a,b){function c(a,b){return arguments.length>2?d(a,17,e(arguments,2),null,b):d(a,1,null,null,b)}var d=a("lodash._createwrapper"),e=a("lodash._slice");b.exports=c},{"lodash._createwrapper":45,"lodash._slice":59}],45:[function(a,b){function c(a,b,h,k,l,m){var n=1&b,o=2&b,p=4&b,q=16&b,r=32&b;if(!o&&!f(a))throw new TypeError;q&&!h.length&&(b&=-17,q=h=!1),r&&!k.length&&(b&=-33,r=k=!1);var s=a&&a.__bindData__;if(s&&s!==!0)return s=g(s),s[2]&&(s[2]=g(s[2])),s[3]&&(s[3]=g(s[3])),!n||1&s[1]||(s[4]=l),!n&&1&s[1]&&(b|=8),!p||4&s[1]||(s[5]=m),q&&i.apply(s[2]||(s[2]=[]),h),r&&j.apply(s[3]||(s[3]=[]),k),s[1]|=b,c.apply(null,s);var t=1==b||17===b?d:e;return t([a,b,h,k,l,m])}var d=a("lodash._basebind"),e=a("lodash._basecreatewrapper"),f=a("lodash.isfunction"),g=a("lodash._slice"),h=[],i=h.push,j=h.unshift;b.exports=c},{"lodash._basebind":46,"lodash._basecreatewrapper":52,"lodash._slice":59,"lodash.isfunction":58}],46:[function(a,b){function c(a){function b(){if(h){var a=g(h);i.apply(a,arguments)}if(this instanceof b){var f=d(c.prototype),k=c.apply(f,a||arguments);return e(k)?k:f}return c.apply(j,a||arguments)}var c=a[0],h=a[2],j=a[4];return f(b,a),b}var d=a("lodash._basecreate"),e=a("lodash.isobject"),f=a("lodash._setbinddata"),g=a("lodash._slice"),h=[],i=h.push;b.exports=c},{"lodash._basecreate":47,"lodash._setbinddata":41,"lodash._slice":59,"lodash.isobject":50}],47:[function(a,b){(function(c){function d(a){return f(a)?g(a):{}}var e=a("lodash._isnative"),f=a("lodash.isobject"),g=(a("lodash.noop"),e(g=Object.create)&&g);g||(d=function(){function a(){}return function(b){if(f(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}()),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":48,"lodash.isobject":50,"lodash.noop":49}],48:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}],49:[function(a,b){b.exports=a(43)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._basecreatecallback/node_modules/lodash._setbinddata/node_modules/lodash.noop/index.js":43}],50:[function(a,b){b.exports=a(38)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.isobject/index.js":38,"lodash._objecttypes":51}],51:[function(a,b){b.exports=a(26)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash._objecttypes/index.js":26}],52:[function(a,b){function c(a){function b(){var a=o?m:this;if(k){var f=g(k);i.apply(f,arguments)}if((l||q)&&(f||(f=g(arguments)),l&&i.apply(f,l),q&&f.length<n))return j|=16,c([h,r?j:-4&j,f,null,m,n]);if(f||(f=arguments),p&&(h=a[s]),this instanceof b){a=d(h.prototype);var t=h.apply(a,f);return e(t)?t:a}return h.apply(a,f)}var h=a[0],j=a[1],k=a[2],l=a[3],m=a[4],n=a[5],o=1&j,p=2&j,q=4&j,r=8&j,s=h;return f(b,a),b}var d=a("lodash._basecreate"),e=a("lodash.isobject"),f=a("lodash._setbinddata"),g=a("lodash._slice"),h=[],i=h.push;b.exports=c},{"lodash._basecreate":53,"lodash._setbinddata":41,"lodash._slice":59,"lodash.isobject":56}],53:[function(a,b){b.exports=a(47)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._basecreatecallback/node_modules/lodash.bind/node_modules/lodash._createwrapper/node_modules/lodash._basebind/node_modules/lodash._basecreate/index.js":47,"lodash._isnative":54,"lodash.isobject":56,"lodash.noop":55}],54:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}],55:[function(a,b){b.exports=a(43)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._basecreatecallback/node_modules/lodash._setbinddata/node_modules/lodash.noop/index.js":43}],56:[function(a,b){b.exports=a(38)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.isobject/index.js":38,"lodash._objecttypes":57}],57:[function(a,b){b.exports=a(26)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash._objecttypes/index.js":26}],58:[function(a,b){function c(a){return"function"==typeof a}b.exports=c},{}],59:[function(a,b){b.exports=a(24)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash._slice/index.js":24}],60:[function(a,b){function c(a){return a}b.exports=c},{}],61:[function(a,b){(function(c){var d=a("lodash._isnative"),e=/\bthis\b/,f={};f.funcDecomp=!d(c.WinRTError)&&e.test(function(){return this}),f.funcNames="string"==typeof Function.name,b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":62}],62:[function(a,b){b.exports=a(28)},{"/Users/mc/projects/svgerber/node_modules/lodash.clonedeep/node_modules/lodash._baseclone/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._isnative/index.js":28}]},{},[1]);